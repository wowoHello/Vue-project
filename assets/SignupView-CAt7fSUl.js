import{u as d,r as p,c as f,a as e,w as t,v as a,b as w,d as c,e as g,S as r,f as v,o as b,g as C,R as x}from"./index-CQnAB9m_.js";const y={id:"signUpPage",class:"bg-yellow"},k={class:"conatiner signUpPage vhContainer"},V={class:"formControls",action:"index.html"},h="https://todolist-api.hexschool.io",_={__name:"SignupView",setup(P){const i=d(),s=p({email:"",password:"",confirmPassword:"",nickname:""}),u=/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z]+$/,m=async()=>{if(u.test(s.value.email)){if(s.value.password!==s.value.confirmPassword){r.fire({icon:"error",title:"輸入的密碼不一致，請重新確認"});return}}else{r.fire({icon:"error",title:"請輸入正確的信箱格式"});return}try{const n=await v.post(`${h}/users/sign_up`,s.value);r.fire({title:"註冊成功",text:"請重新登入！",icon:"success",showConfirmButton:!1,timer:1500}),setTimeout(()=>{i.push("/login")},1500)}catch(n){r.fire({icon:"error",title:"註冊失敗："+n.message})}};return(n,o)=>(b(),f("div",y,[e("div",k,[o[10]||(o[10]=e("div",{class:"side"},[e("a",{href:"#"},[e("img",{class:"logoImg",src:"https://raw.githubusercontent.com/hexschool/2022-web-layout-training/main/todolist/logo.png",alt:""})]),e("img",{class:"d-m-n",src:"https://raw.githubusercontent.com/hexschool/2022-web-layout-training/main/todolist/img.png",alt:"workImg"})],-1)),e("div",null,[e("form",V,[o[5]||(o[5]=e("h2",{class:"formControls_txt"},"註冊帳號",-1)),o[6]||(o[6]=e("label",{class:"formControls_label",for:"email"},"Email",-1)),t(e("input",{class:"formControls_input",type:"email",id:"email",name:"email",placeholder:"請輸入 email","onUpdate:modelValue":o[0]||(o[0]=l=>s.value.email=l),required:""},null,512),[[a,s.value.email]]),o[7]||(o[7]=e("label",{class:"formControls_label",for:"name"},"您的暱稱",-1)),t(e("input",{class:"formControls_input",type:"text",name:"name",id:"name",placeholder:"請輸入您的暱稱","onUpdate:modelValue":o[1]||(o[1]=l=>s.value.nickname=l)},null,512),[[a,s.value.nickname]]),o[8]||(o[8]=e("label",{class:"formControls_label",for:"pwd"},"密碼",-1)),t(e("input",{class:"formControls_input",type:"password",name:"pwd",id:"pwd",placeholder:"請輸入密碼","onUpdate:modelValue":o[2]||(o[2]=l=>s.value.password=l),required:""},null,512),[[a,s.value.password]]),o[9]||(o[9]=e("label",{class:"formControls_label",for:"pwd"},"再次輸入密碼",-1)),t(e("input",{class:"formControls_input",type:"password",name:"pwd",id:"pwd",placeholder:"請再次輸入密碼","onUpdate:modelValue":o[3]||(o[3]=l=>s.value.confirmPassword=l),required:""},null,512),[[a,s.value.confirmPassword]]),e("input",{class:"formControls_btnSubmit",type:"button",value:"註冊帳號",onClick:m}),w(g(x),{class:"formControls_btnLink",to:"/login"},{default:c(()=>o[4]||(o[4]=[C("登入")])),_:1})])])])]))}};export{_ as default};
